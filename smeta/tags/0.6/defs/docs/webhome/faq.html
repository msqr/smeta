<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<title>sMeta: FAQ</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<link rel="stylesheet" type="text/css" href="whoosh-smeta.css" />
</head>
<body>

<div id="nav-frame">
	<div class="frame-t">
		<img class="frame-tl" alt="frame" src="img/tb_03.gif" />
		<img class="frame-tr" alt="frame" src="img/tb_06.gif" />
	</div>
	<div class="frame-m">
		<div class="section"><a href="index.html">Home</a></div>

		<div class="section"><a href="download.html">Download</a></div>

		<div class="section-selected">FAQ</div>

		<div class="section"><a href="credits.html">Credits</a></div>

		<div class="section"><a href="developers.html">Developers</a></div>
	</div>
	<div class="frame-ml"></div>
	<div class="frame-mr"></div>
	<div class="frame-b">
		<img class="frame-bl" alt="frame" src="img/tb_24.gif" />
		<img class="frame-br" alt="frame" src="img/tb_26.gif" />
	</div>
</div>

<h1><a name="top"></a>sMeta: FAQ</h1>

<p class="intro">Here is a collection of frequently asked questions about sMeta:</p>

<dl>
	<dt>How do I get started?</dt>
	<dd>
		<p>Here's some of the source of 
		<code>magoffin.matt.meta.MetadataResourceExample</code>:</p>
		
		<pre class="code"><code>
<span style="color: #000;">&nbsp;&nbsp;</span><span style="color: #00C;">public</span><span style="color: #000;">&nbsp;</span><span style="color: #00C;">static</span><span style="color: #000;">&nbsp;</span><span style="color: #00C;">void</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">main</span><span style="color: #000;">(</span><span style="color: #000;">String</span><span style="color: #000;">[]&nbsp;</span><span style="color: #000;">args</span><span style="color: #000;">)&nbsp;</span><span style="color: #00C;">throws</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">IOException</span><span style="color: #000;">&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #00C;">if</span><span style="color: #000;">&nbsp;(&nbsp;</span><span style="color: #000;">args</span><span style="color: #000;">&nbsp;==&nbsp;</span><span style="color: #00C;">null</span><span style="color: #000;">&nbsp;||&nbsp;</span><span style="color: #000;">args</span><span style="color: #000;">.</span><span style="color: #000;">length</span><span style="color: #000;">&nbsp;&lt;&nbsp;</span><span style="color: #000;">1</span><span style="color: #000;">&nbsp;)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">System</span><span style="color: #000;">.</span><span style="color: #000;">err</span><span style="color: #000;">.</span><span style="color: #000;">println</span><span style="color: #000;">(</span><span style="color: #F39;">"Pass&nbsp;files&nbsp;to&nbsp;read&nbsp;metadata&nbsp;from."</span><span style="color: #000;">);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #555;">//&nbsp;1:&nbsp;get&nbsp;a&nbsp;MetadataResourceFactoryManager&nbsp;instance
</span><span style="color: #000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">MetadataResourceFactoryManager</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">manager</span><span style="color: #000;">&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #000;">MetadataResourceFactoryManager</span><span style="color: #000;">.</span><span style="color: #000;">getDefaultManagerInstance</span><span style="color: #000;">();
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #00C;">for</span><span style="color: #000;">&nbsp;(&nbsp;</span><span style="color: #000;">String</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">filePath</span><span style="color: #000;">&nbsp;:&nbsp;</span><span style="color: #000;">args</span><span style="color: #000;">&nbsp;)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">File</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">oneFile</span><span style="color: #000;">&nbsp;=&nbsp;</span><span style="color: #00C;">new</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">File</span><span style="color: #000;">(</span><span style="color: #000;">filePath</span><span style="color: #000;">);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #555;">//&nbsp;2:&nbsp;get&nbsp;a&nbsp;MetadataResourceFactory&nbsp;for&nbsp;this&nbsp;file&nbsp;type
</span><span style="color: #000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">MetadataResourceFactory</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">factory</span><span style="color: #000;">&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #000;">manager</span><span style="color: #000;">.</span><span style="color: #000;">getMetadataResourceFactory</span><span style="color: #000;">(</span><span style="color: #000;">oneFile</span><span style="color: #000;">);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #00C;">try</span><span style="color: #000;">&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #555;">//&nbsp;3:&nbsp;get&nbsp;a&nbsp;MetadataResource&nbsp;for&nbsp;this&nbsp;file
</span><span style="color: #000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">MetadataResource</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">metaResource</span><span style="color: #000;">&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #000;">factory</span><span style="color: #000;">.</span><span style="color: #000;">getMetadataResourceInstance</span><span style="color: #000;">(</span><span style="color: #000;">oneFile</span><span style="color: #000;">);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #555;">//&nbsp;4:&nbsp;print&nbsp;out&nbsp;all&nbsp;available&nbsp;metadata
</span><span style="color: #000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">Iterable</span><span style="color: #000;">&lt;</span><span style="color: #000;">String</span><span style="color: #000;">&gt;&nbsp;</span><span style="color: #000;">keys</span><span style="color: #000;">&nbsp;=&nbsp;</span><span style="color: #000;">metaResource</span><span style="color: #000;">.</span><span style="color: #000;">getParsedKeys</span><span style="color: #000;">();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">System</span><span style="color: #000;">.</span><span style="color: #000;">out</span><span style="color: #000;">.</span><span style="color: #000;">println</span><span style="color: #000;">(</span><span style="color: #F39;">"\nMetadata&nbsp;for&nbsp;file&nbsp;["</span><span style="color: #000;">&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+</span><span style="color: #000;">oneFile</span><span style="color: #000;">.</span><span style="color: #000;">getAbsolutePath</span><span style="color: #000;">()&nbsp;+</span><span style="color: #F39;">"]:"</span><span style="color: #000;">);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #00C;">for</span><span style="color: #000;">&nbsp;(&nbsp;</span><span style="color: #000;">String</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">key</span><span style="color: #000;">&nbsp;:&nbsp;</span><span style="color: #000;">keys</span><span style="color: #000;">&nbsp;)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">System</span><span style="color: #000;">.</span><span style="color: #000;">out</span><span style="color: #000;">.</span><span style="color: #000;">println</span><span style="color: #000;">(</span><span style="color: #000;">key</span><span style="color: #000;">&nbsp;+</span><span style="color: #F39;">"&nbsp;=&nbsp;"</span><span style="color: #000;">&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+</span><span style="color: #000;">metaResource</span><span style="color: #000;">.</span><span style="color: #000;">getValue</span><span style="color: #000;">(</span><span style="color: #000;">key</span><span style="color: #000;">,&nbsp;</span><span style="color: #000;">Locale</span><span style="color: #000;">.</span><span style="color: #000;">getDefault</span><span style="color: #000;">()));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #00C;">catch</span><span style="color: #000;">&nbsp;(&nbsp;</span><span style="color: #000;">MetadataNotSupportedException</span><span style="color: #000;">&nbsp;</span><span style="color: #000;">e</span><span style="color: #000;">&nbsp;)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000;">System</span><span style="color: #000;">.</span><span style="color: #000;">err</span><span style="color: #000;">.</span><span style="color: #000;">println</span><span style="color: #000;">(</span><span style="color: #F39;">"File&nbsp;["</span><span style="color: #000;">&nbsp;+</span><span style="color: #000;">oneFile</span><span style="color: #000;">.</span><span style="color: #000;">getAbsolutePath</span><span style="color: #000;">()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+</span><span style="color: #F39;">"]&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the&nbsp;["</span><span style="color: #000;">&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+</span><span style="color: #000;">factory</span><span style="color: #000;">.</span><span style="color: #000;">getClass</span><span style="color: #000;">().</span><span style="color: #000;">getName</span><span style="color: #000;">()&nbsp;+</span><span style="color: #F39;">"]&nbsp;factory"</span><span style="color: #000;">);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
</span></code></pre>

		<p>A sample of the output from this program is:</p>
		
		<div class="code">Metadata for file [src-test/magoffin/matt/meta/audio/id3v1.mp3]:
SONG_NAME = Macgyver Theme
ARTIST = Macgyver
ALBUM = Macgyver (An ABC TV show)
COMMENT = Almost as cool as the A-Team
GENRE = Other

Metadata for file [src-test/magoffin/matt/meta/image/IMG_1218.jpg]:
APERTURE = 4.0
CAMERA_MAKE = Canon
CAMERA_MODEL = Canon PowerShot G5
DATE_TAKEN = Thu Nov 13 18:10:25 NZDT 2003
EXPOSURE_BIAS = 0
EXPOSURE_TIME = 1/60
F_STOP = F4
FLASH = true
FOCAL_LENGTH = 20.6875
ORIENTATION = 1
SHUTTER_SPEED = 1/60</div>

	<dt>How can I extract the album cover image from an MP3 file?</dt>
	<dd>
		<p>Look for a <code><a href="http://smeta.sourceforge.net/api/magoffin/matt/meta/MetadataImage.html">magoffin.matt.meta.MetadataImage</a></code> 
		object in the metdata returned for your MP3 file. This API provides an easy
		way to either get a <code>java.awt.image.BufferedImage</code> from 
		the embedded image data, or write the unaltered image data to an 
		<code>java.io.OutputStream</code>.</p>
		
		<p>For example, running the 
		<code>magoffin.matt.meta.MetadataResourceExample</code> on an MP3 with 
		an embedded PNG image results in this:</p>
		
		<div class="code">Metadata for file [src-test/magoffin/matt/meta/audio/id3v2_4.mp3]:
ALBUM = Album Name Here
ALBUM_COVER = MetadataImage{image/png; 26781}
ARTIST = MUSICMATCH
SONG_NAME = MUSICMATCH Jukebox Plus Upgrade
GENRE = Unclassifiable
TRACK_NUM = 1
TRACK_TOTAL = 2
YEAR = 2002
BIT_RATE = 160 kbps (VBR)
SAMPLE_RATE = 44.1 kHz
AUDIO_FORMAT = MPEG-1, Layer 3</div>

		<p>Note the <code><b>ALBUM_COVER</b></code> metadata key, which is an instance of
		<code>magoffin.matt.meta.MetadataImage</code> and is showing the image format
		(PNG) and size (26,781 bytes).</p>
	</dd>

	<dt>How can I extract a still frame from a video file?</dt>
	<dd>
		<p>This is handled in the same fashion as extracting the album cover from an MP3
		file (above). The <code><b>POSTER</b></code> metadata key will contain a
		<code>magoffin.matt.meta.MetadataImage</code> if sMeta is able to extract a still
		frame from the video. For video formats with the ability to specify a poster frame
		(i.e. QuickTime) sMeta will extract that frame. For other video formats sMeta will
		extract the first frame.</p>
		
		<div class="code">Metadata for file [VideoTest-01-QuickTimeMetadataResource-8.mov]:
WIDTH = 320
HEIGHT = 240
POSTER = MetadataImage{[image/png]; 320x240}
DURATION = 167327
DURATION_TIME = 2:47.327
AUDIO_FORMAT = RTP MPEG4 Audio Packetizer, 32000.0 Hz, 16 bit, stereo
FPS = 14.985
VIDEO_FORMAT = MP4V, 24 bit</div>
	</dd>

</dl>

<div>
<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=187135&amp;type=1" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
</div>
</body>
</html>
